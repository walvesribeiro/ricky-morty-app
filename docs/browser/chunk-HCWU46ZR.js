import{$ as A,Ca as F,D as _,Ea as $,F as c,Fa as k,G as O,Ha as W,Ia as X,Ja as w,K as U,L as m,N as s,O as p,P as j,S as z,T as D,U as T,V as L,W as f,_ as N,c as d,ca as V,da as R,e as I,ea as H,f as x,fa as q,h as M,i as S,ia as G,ja as J,la as K,m as u,ma as P,n as v,na as Q,p as C,r as y,s as b,v as B,w as E,wa as h}from"./chunk-2XAXBAXB.js";var re=r=>({favorite:r}),Y=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=y({type:e,selectors:[["app-card"]],inputs:{card:"card"},decls:8,vars:9,consts:[[1,"card"],[1,"favorite-badge",3,"ngClass"],["loading","lazy",3,"src"],["loading","lazy",3,"src","alt","srcset"]],template:function(i,o){i&1&&(s(0,"div",0)(1,"span",1),j(2,"img",2),p(),j(3,"img",3),s(4,"h2"),N(5),p(),s(6,"p"),N(7),p()()),i&2&&(c(),m("ngClass",R(7,re,o.card.favorite)),c(),m("src",o.card.favorite?"assets/icons/heart-filled.svg":"assets/icons/heart-outline.svg",_),c(),m("src",o.card.image,_)("alt",o.card.name)("srcset",o.card.image),c(2),A(o.card.name),c(2),A(o.card.species))},dependencies:[G],styles:['.favorite[_ngcontent-%COMP%]{background:var(--color-neutral-surface, #FFFFFF);border-start-end-radius:29px;border-bottom-left-radius:var(--measure-radius-circle)}.favorite-badge[_ngcontent-%COMP%]{display:flex;content:" ";width:48px;height:48px;position:absolute;right:0;align-items:center}.favorite-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(.5);width:20px;height:20px}.favorite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none}.card[_ngcontent-%COMP%]{background-color:var(--color-core-foreground);border:1px solid var(--color-core-border);border-radius:var(--measure-radius-s);width:224px;position:relative}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:fill;border-radius:var(--measure-radius-s) var(--measure-radius-s) 0 0}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-core-content-low, #A4A4A4);padding-inline:var(--measure-spacing-s);font-family:Poppins;font-size:16px;font-weight:400;line-height:22.4px;text-align:left}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Creepster;font-size:24px;font-weight:400;line-height:24px;letter-spacing:-.02em;text-align:left;color:var(--color-core-content, #FAFAFA);padding-inline:var(--measure-spacing-s);display:-webkit-box;-webkit-line-clamp:1;overflow:hidden;-webkit-box-orient:vertical}']});let r=e;return r})();var Z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=b({type:e}),e.\u0275inj=v({imports:[P]});let r=e;return r})();var ee=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl=X.api}getAllCharactersPerPage(t){return this.http.get(`${this.baseUrl}/character/?${t}`)}getCharacterById(t){return this.http.get(`${this.baseUrl}/character/${t}`)}getCharacterByName(t){return this.http.get(`${this.baseUrl}/character/?name=${t}`)}getMultipleCharacters(t){return this.http.get(`${this.baseUrl}/character/${t}`)}};e.\u0275fac=function(i){return new(i||e)(C(Q))},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var l=class l{constructor(e){this.characterSevice=e}getAllCharactersPerPage(e){return this.characterSevice.getAllCharactersPerPage(e).pipe(x(a=>new h.UpdateCharacterList(a)),M(a=>{throw console.log({erro:a}),new h.ErrorCharacter(a)}))}getCharacterByName(e){return this.characterSevice.getCharacterByName(e).pipe(x(({info:a,results:t})=>new h.UpdateCharacterList({info:a,results:t})),M(({error:a})=>I(new h.ErrorCharacter(a))))}};l.\u0275fac=function(a){return new(a||l)(C(ee))},l.\u0275prov=u({token:l,factory:l.\u0275fac});var n=l;d([F($.characters)],n.prototype,"characters$",void 0);d([F($.error)],n.prototype,"onError$",void 0);d([F(W.info)],n.prototype,"pagination$",void 0);d([k()],n.prototype,"getAllCharactersPerPage",null);d([k()],n.prototype,"getCharacterByName",null);var ne=[[["h1"]],[["",8,"search"]],[["not-found"]],"*"],ce=["h1",".search","not-found","*"];function se(r,e){if(r&1){let a=z();s(0,"app-card",3),D("click",function(){let i=B(a).$implicit,o=T();return E(o.toggleFavorite(i))}),p()}if(r&2){let a=e.$implicit;m("card",a)}}var _e=(()=>{let e=class e{constructor(t,i){this.facade=t,this.favoriteFacade=i,this.debounceTimeMiliseconds=500}ngOnInit(){this.searchCharacterName?.valueChanges.pipe(S(this.debounceTimeMiliseconds)).subscribe(()=>this.getCharacterByName())}getCharacterByName(){return this.facade.getCharacterByName(this.searchCharacterName?.value)}getAllCharactersPerPage(){return this.facade.getAllCharactersPerPage()}onAdd(t){return this.favoriteFacade.setFavorite(t)}onRemove(t){return this.favoriteFacade.removeFavorite(t)}toggleFavorite(t){return t.favorite?this.onRemove(t):this.onAdd(t)}};e.\u0275fac=function(i){return new(i||e)(O(n),O(w))},e.\u0275cmp=y({type:e,selectors:[["app-container"]],inputs:{searchCharacterName:"searchCharacterName",charactersList$:"charactersList$"},features:[V([n,w])],ngContentSelectors:ce,decls:8,vars:3,consts:[[1,"page__header"],[1,"page__body"],[3,"card","click",4,"ngFor","ngForOf"],[3,"click","card"]],template:function(i,o){i&1&&(L(ne),s(0,"div",0),f(1),f(2,1),p(),s(3,"div",1),U(4,se,1,1,"app-card",2),H(5,"async"),f(6,2),p(),f(7,3,["selecte","pagination"])),i&2&&(c(4),m("ngForOf",q(5,1,o.charactersList$)))},dependencies:[J,Y,K],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{color:#00b5cc;-webkit-text-stroke-width:2px;-webkit-text-stroke-color:#B2DF28;font-family:Creepster;font-size:48px;font-weight:400;line-height:48px;letter-spacing:-.02em;text-align:left}[_nghost-%COMP%]   .page__header[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .page__body[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:repeat(auto-fill,min(240px,100%));gap:20px 0;justify-content:space-around;justify-items:center}"]});let r=e;return r})();var ke=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=b({type:e}),e.\u0275inj=v({imports:[P,Z]});let r=e;return r})();export{n as a,_e as b,ke as c};
