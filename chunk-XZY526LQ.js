import{Da as w,Ea as k,G as O,Ga as Y,I as c,J as j,Ma as h,N as D,O as m,Oa as I,Pa as Z,Q as s,Qa as F,R as p,S as N,W as T,X as L,Y as V,Z as R,_ as f,c as x,d,da as A,ea as $,f as S,ha as H,i as M,ia as q,j as B,ja as G,k as E,ka as J,l as _,oa as K,p as u,pa as Q,q as v,s as C,sa as W,ta as P,u as y,ua as X,v as b,y as U,z}from"./chunk-POTKGVJL.js";var ae=r=>({favorite:r}),ee=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=y({type:e,selectors:[["app-card"]],inputs:{card:"card"},decls:8,vars:9,consts:[[1,"card"],[1,"favorite-badge",3,"ngClass"],["loading","lazy",3,"src"],["loading","lazy",3,"src","alt","srcset"]],template:function(i,o){i&1&&(s(0,"div",0)(1,"span",1),N(2,"img",2),p(),N(3,"img",3),s(4,"h2"),A(5),p(),s(6,"p"),A(7),p()()),i&2&&(c(),m("ngClass",q(7,ae,o.card.favorite)),c(),m("src",o.card.favorite?"assets/icons/heart-filled.svg":"assets/icons/heart-outline.svg",O),c(),m("src",o.card.image,O)("alt",o.card.name)("srcset",o.card.image),c(2),$(o.card.name),c(2),$(o.card.species))},dependencies:[K],styles:['.favorite[_ngcontent-%COMP%]{background:var(--color-neutral-surface, #FFFFFF);border-start-end-radius:29px;border-bottom-left-radius:var(--measure-radius-circle)}.favorite-badge[_ngcontent-%COMP%]{display:flex;content:" ";width:48px;height:48px;position:absolute;right:0;align-items:center}.favorite-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(.5);width:20px;height:20px}.favorite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none}.card[_ngcontent-%COMP%]{background-color:var(--color-core-foreground);border:1px solid var(--color-core-border);border-radius:var(--measure-radius-s);width:224px;position:relative}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:fill;border-radius:var(--measure-radius-s) var(--measure-radius-s) 0 0}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-core-content-low, #A4A4A4);padding-inline:var(--measure-spacing-s);font-family:Poppins;font-size:16px;font-weight:400;line-height:22.4px;text-align:left}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Creepster;font-size:24px;font-weight:400;line-height:24px;letter-spacing:-.02em;text-align:left;color:var(--color-core-content, #FAFAFA);padding-inline:var(--measure-spacing-s);display:-webkit-box;-webkit-line-clamp:1;overflow:hidden;-webkit-box-orient:vertical}']});let r=e;return r})();var te=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=b({type:e}),e.\u0275inj=v({imports:[P]});let r=e;return r})();var re=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl=Y.api}getAllCharactersPerPage(t){return this.http.get(`${this.baseUrl}/character/?${t}`)}getCharacterById(t){return this.http.get(`${this.baseUrl}/character/${t}`)}getCharacterByName(t){return this.http.get(`${this.baseUrl}/character/?name=${t}`)}getMultipleCharacters(t){return this.http.get(`${this.baseUrl}/character/${t}`)}};e.\u0275fac=function(i){return new(i||e)(C(X))},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var l=class l{constructor(e){this.characterSevice=e}getAllCharactersPerPage(e){return this.characterSevice.getAllCharactersPerPage(e).pipe(_(a=>x(this,null,function*(){return yield new h.UpdateCharacterList(a)})),M(a=>{throw new h.ErrorCharacter(a)}))}getCharacterByName(e){return this.characterSevice.getCharacterByName(e).pipe(_(i=>x(this,[i],function*({info:a,results:t}){return yield new h.UpdateCharacterList({info:a,results:t})})),M(({error:a})=>S(new h.ErrorCharacter(a))))}};l.\u0275fac=function(a){return new(a||l)(C(re))},l.\u0275prov=u({token:l,factory:l.\u0275fac});var n=l;d([w(I.characters)],n.prototype,"characters$",void 0);d([w(I.error)],n.prototype,"onError$",void 0);d([w(Z.info)],n.prototype,"pagination$",void 0);d([k()],n.prototype,"getAllCharactersPerPage",null);d([k()],n.prototype,"getCharacterByName",null);var se=[[["h1"]],[["",8,"search"]],[["not-found"]],"*"],pe=["h1",".search","not-found","*"];function me(r,e){if(r&1){let a=T();s(0,"app-card",3),L("click",function(){let i=U(a).$implicit,o=V();return z(o.toggleFavorite(i))}),p()}if(r&2){let a=e.$implicit;m("card",a)}}var Ne=(()=>{let e=class e{constructor(t,i){this.facade=t,this.favoriteFacade=i,this.debounceTimeMiliseconds=1e3}ngOnInit(){this.searchCharacterName?.valueChanges.pipe(B(this.debounceTimeMiliseconds),E()).subscribe(()=>this.getCharacterByName())}getCharacterByName(){return this.facade.getCharacterByName(this.searchCharacterName?.value)}getAllCharactersPerPage(){return this.facade.getAllCharactersPerPage()}onAdd(t){return this.favoriteFacade.setFavorite(t)}onRemove(t){return this.favoriteFacade.removeFavorite(t)}toggleFavorite(t){return t.favorite?this.onRemove(t):this.onAdd(t)}};e.\u0275fac=function(i){return new(i||e)(j(n),j(F))},e.\u0275cmp=y({type:e,selectors:[["app-container"]],inputs:{searchCharacterName:"searchCharacterName",charactersList$:"charactersList$"},features:[H([n,F])],ngContentSelectors:pe,decls:8,vars:3,consts:[[1,"page__header"],[1,"page__body"],[3,"card","click",4,"ngFor","ngForOf"],[3,"click","card"]],template:function(i,o){i&1&&(R(se),s(0,"div",0),f(1),f(2,1),p(),s(3,"div",1),D(4,me,1,1,"app-card",2),G(5,"async"),f(6,2),p(),f(7,3,["selecte","pagination"])),i&2&&(c(4),m("ngForOf",J(5,1,o.charactersList$)))},dependencies:[Q,ee,W],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{color:#00b5cc;-webkit-text-stroke-width:2px;-webkit-text-stroke-color:#B2DF28;font-family:Creepster;font-size:48px;font-weight:400;line-height:48px;letter-spacing:-.02em;text-align:left}[_nghost-%COMP%]   .page__header[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .page__body[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:repeat(auto-fill,min(240px,100%));gap:20px 0;justify-content:space-around;justify-items:center}"]});let r=e;return r})();var Be=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=b({type:e}),e.\u0275inj=v({imports:[P,te]});let r=e;return r})();export{n as a,Ne as b,Be as c};
